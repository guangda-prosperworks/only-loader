/**!
 * OnlyLoader - The only loader
 * @version v0.2.1 - 2015-02-12
 * @author Guangda Zhang
 * @link https://github.com/inkless/only-loader
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(){"use strict";var e=[],t=document.createElement("script"),n=document.head||document.getElementsByTagName("head")[0],i="async"in t,a=!!t.readyState;var r=function(){while(e[0]&&(typeof e[0]==="function"||e[0].async||e[0].readyState=="loaded"||e[0].readyState=="complete")){var t=e.shift();if(typeof t==="function"){t()}else{t.onreadystatechange=null;n.insertBefore(t,n.firstChild)}}};var c=function(t,c){var s=function(){if(i){var s=document.createElement("script");s.async=c;s.src=t;s.addEventListener("load",o.bind(undefined,s));n.appendChild(s);e.push(s)}else if(a){var s=document.createElement("script");s.async=c;e.push(s);s.onreadystatechange=r;s.src=t}else{document.write('<script src="'+t+'" defer></'+"script>")}};if(document.documentMode&&document.documentMode>9)setTimeout(s,0);else s()};var o=function(t){for(var n=0,i=e.length;n<i;++n){if(t===e[n]){e.splice(n,1)}}};var s=function(t,n){if(!e.length){t()}var r=0;var c=function(){--r;o(this);if(r===0)t()};if(i){for(var s=0,d=e.length;s<d;++s){var f=e[s];if(f.async)continue;++r;f.addEventListener("load",c)}}else if(a){e.push(t)}else{}};var d=function(e,t){if(typeof e==="string")e=e.split(",");if(typeof e==="function"){s(e)}for(var n=0;n<e.length;++n)c(e[n],!!t)};window.Loader=d})();